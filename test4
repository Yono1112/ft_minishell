=====================================
/Users/yumaohno/Documents/42tokyo/minishell
=====================================

=====================================
Makefile
a.out
cmp
exit42
include
log
minishell
minishell.md
obj
out
print_args
src
tags
test
test.sh
test4
usatie_minishell
=====================================
/Users/yumaohno/Documents/42tokyo/minishell
=====================================

=====================================
Makefile
a.out
cmp
exit42
include
log
minishell
minishell.md
obj
out
print_args
src
tags
test
test.sh
test4
usatie_minishell
=====================================
hello from a.out
=====================================
=====================================
=====================================
Applications
Library
System
Users
Volumes
bin
cores
dev
etc
home
opt
private
sbin
tmp
usr
var
=====================================
hello world
=====================================
=====================================
argv[0] = ./print_args
argv[1] = hello   world
argv[2] = 42Tokyo
=====================================
hello   world 42Tokyo
=====================================
"hello   world" 42Tokyo
=====================================
argv[0] = ./print_args
argv[1] = hello   world
argv[2] = 42Tokyo
=====================================
hello   world 42Tokyo
=====================================
'hello   world' 42Tokyo
=====================================
hello      world
=====================================
hello  world    42Tokyo  
=====================================
=====================================
=====================================
NAME = minishell
CC = cc
CFLAGS = -Wall -Wextra -Werror
ifeq ($(shell uname -s), Linux)
LDFLAGS = -lreadline
else
RLDIR = $(shell brew --prefix readline)
LDFLAGS = -lreadline -L$(RLDIR)/lib
endif
# LDFLAGS = -lreadline
RM = rm -rf
SRCS =	src/main.c	\
		src/free.c	\
		src/lexer/tokenize.c	\
		src/lexer/blank.c		\
		src/lexer/operator.c	\
		src/lexer/word.c		\
		src/lexer/add_token_to_argv.c	\
		src/output_error/output_error.c	\
		src/expansion/expand.c	\
		src/expansion/remove_quote.c	\
		src/expansion/expand_variable.c	\
		src/expansion/expand_heredoc_line.c	\
		src/parser/parse.c	\
		src/redirection/redirect.c	\
		src/pipeline/pipe.c	\
		src/exec/exec.c	\
		src/signal/signal.c	\
		src/builtin/is_builtin.c	\
		src/builtin/exec_builtin_cmd.c	\
		src/builtin/exec_builtin_exit.c	\
		src/builtin/exec_builtin_echo.c	\
		src/environ/env_utils.c	\
		src/environ/ft_getenv.c	\
		src/environ/init_env_list.c	\
		src/environ/set_env_list.c	\
		src/builtin/exec_builtin_export.c	\

OBJ_DIR = obj
OBJS = $(SRCS:%.c=$(OBJ_DIR)/%.o)

INC = -I include -I$(RLDIR)/include

DEBUG_FLAG = -fsanitize=address,leak

all: $(NAME)

$(OBJ_DIR)/%.o: %.c
	@mkdir -p $(@D)
	$(CC) $(CFLAGS) $(INC) -c $< -o $@

$(NAME): $(OBJS)
	$(CC) $(CFLAGS) -o $(NAME) $(OBJS) $(LDFLAGS)

clean:
	$(RM) $(OBJS)
	$(RM) $(OBJ_DIR)

fclean: clean
	$(RM) $(NAME)

re: fclean all

debug: CFLAGS += $(DEBUG_FLAG)
debug: re

test: re
	./test.sh

norm:
	norminette include src libft
	nm -u $(NAME) | grep -v -E "_(readline|rl_clear_history|rl_on_new_line|\
	rl_replace_line|rl_redisplay|add_history|printf|malloc|free|write|\
	access|open|read|close|fork|wait|waitpid|wait3|wait4|signal|\
	sigaction|sigemptyset|sigaddset|kill|exit|getcwd|chdir|stat|lstat|\
	fstat|unlink|execve|dup|dup2|pipe|opendir|readdir|closedir|\
	strerror|perror|isatty|ttyname|ttyslot|ioctl|getenv|tcsetattr|\
	tcgetattr|tgetent|tgetflag|tgetnum|tgetstr|tgoto|tputs)"

.PHONY: all clean fclean re test debug
=====================================
42Tokyo
=====================================
=====================================
=====================================
=====================================
hello
world
=====================================
=====================================
hello
world
=====================================
hello
world
=====================================
yumaohno


=====================================
$USER
$NO_SUCH_VAR
$FOO$BAR
=====================================
$USER
$NO_SUCH_VAR
$FOO$BAR
=====================================
eof
=====================================
eof
=====================================
NAME = minishell
=====================================
Makefile
a.out
cmp
exit42
include
log
minishell
minishell.md
obj
out
print_args
src
tags
test
test.sh
test4
usatie_minishell
=====================================
yumaohno
=====================================
yumaohno/Users/sorau/Library/Python/3.8/bin:/Users/yumaohno/.local/bin:/opt/homebrew/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin:/Users/yumaohno/Library/Python/3.8/bin:/Users/yumaohno/platform-toolsxterm-256color
=====================================
yumaohno  /Users/sorau/Library/Python/3.8/bin:/Users/yumaohno/.local/bin:/opt/homebrew/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin:/Users/yumaohno/Library/Python/3.8/bin:/Users/yumaohno/platform-tools   xterm-256color
=====================================
0
=====================================
127
0
=====================================
127
0
=====================================
127
0
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================
=====================================

=====================================

=====================================

=====================================
hello
=====================================
hello      world
=====================================
=====================================
-a
=====================================
hello=====================================
hello world=====================================
hello -n
=====================================
hello=====================================
-na hello
=====================================
- n
=====================================
- hello
=====================================
=====================================
declare -x nosuch
=====================================
declare -x nosuch="fuga"
=====================================
declare -x hoge="nosuch"
declare -x nosuch="fuga"
=====================================
=====================================
=====================================
=====================================
declare -x hoge="nosuch"
declare -x nosuch
=====================================
declare -x hoge="nosuch"
declare -x nosuch
=====================================
declare -x hoge="nosuch"
declare -x nosuch
=====================================
declare -x nosuch2="hoge"
declare -x nosuch="nosuch2=hoge"
=====================================
